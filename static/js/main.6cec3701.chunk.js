(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(21)},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(9),o=n.n(i),s=(n(17),n(6)),c=n(7),u=n.n(c),l=n(10),m=n(1),h=n(2),g=n(4),p=n(3),d=n(5),v=(n(19),n(20),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(p.a)(t).call(this,e))).tuningChange=function(e){var t=e.target.value.split(",")[0],r=e.target.value.split(",")[1],a=n.state.tuning.concat();a[t]=r,n.setState({tuning:a})},n.stringNumberChange=function(e){var t=parseInt(e.target.value);n.setState({wireNumber:t})},n.fretNumberChange=function(e){var t=parseInt(e.target.value);n.setState({fretNumber:t})},n.activeWiresChange=function(e){var t=n.state.activeWires.concat();t[e.target.className]=e.target.checked,n.setState({activeWires:t})},n.timeRemainingChange=function(e){var t=parseInt(e.target.value);n.setState({timeRemaining:t})},n.currentQuestionChange=function(e){n.setState({currentQuestion:e})},n.timeRemainingSet=function(e){n.setState({timeRemaining:e})},n.currentGameModeSet=function(e){n.setState({currentGameMode:e})},n.scoreboardSet=function(e){n.setState({scoreboard:e})},n.updateScoreLocalstorage=function(){var e=[];e[0]=JSON.parse(localStorage.getItem("note")),e[1]=JSON.parse(localStorage.getItem("questionFret")),n.scoreboardSet(e)},n.timePass=Object(l.a)(u.a.mark(function e(){var t,r,a,i,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.timeRemaining,console.log("Game Start"),w(r=document.querySelector(".options").querySelectorAll("select, input"));case 4:if(!(n.state.timeRemaining>0)){e.next=11;break}return e.next=7,n.sleep(1e3);case 7:n.timeRemainingSet(n.state.timeRemaining-1),console.log("Time tick"),e.next=4;break;case 11:for(console.log("Time end"),a=document.querySelectorAll(".inGame").length,console.log(a),document.querySelector(".questionNode").classList.remove("questionNode"),i=document.querySelectorAll(".inGame"),o=0;o<i.length;o++)i[o].classList.remove("inGame");F(r),n.saveScore(n.state.currentGameMode,a,t),n.currentGameModeSet(null),n.timeRemainingSet(document.querySelector(".timeSelector").value),n.resetScore(),Q();case 23:case"end":return e.stop()}},e)})),n.sleep=function(e){return new Promise(function(t){return setTimeout(t,e)})},n.checkAnswer=function(e){if(e.target.classList.contains("inGame")){if("note"==n.state.currentGameMode)var t=n.state.currentQuestion.split(" ")[0];else t=n.state.currentQuestion;e.target.getAttribute("note")==t?n.winScore():n.loseScore(),document.querySelector(".questionNode").classList.remove("questionNode");var r=document.querySelector("div.fretBoard").querySelectorAll("div.wire.visible>div.fret"),a=r[Math.floor(Math.random()*r.length)];a.classList.add("questionNode"),n.currentQuestionChange(a.getAttribute("note"))}},n.selectQuestionFret=function(){var e=document.querySelector("div.fretBoard").querySelectorAll("div.wire.visible>div.fret"),t=e[Math.floor(Math.random()*e.length)];t.classList.add("questionNode"),n.currentQuestionChange(t.getAttribute("note"))},n.winScore=function(){var e=n.state.currentScore+100;n.setState({currentScore:e})},n.loseScore=function(){var e=n.state.currentScore-100;n.setState({currentScore:e})},n.resetScore=function(){n.setState({currentScore:0})},n.saveScore=function(e,t,r){(function(e,t,n,r){G(),n=parseInt(n);var a=q(e);a.push([t,n,r]),a.sort(B),a=JSON.stringify(a),localStorage.setItem(e,a)})(e,parseInt(document.querySelector(".score").innerHTML)||0,t,r=parseInt(r)),n.updateScoreLocalstorage()},n.state={tuning:["E","B","G","D","A","E"],wireNumber:6,fretNumber:12,timeRemaining:2,activeWires:[!0,!0,!0,!0,!0,!0,!0,!0,!0],currentQuestion:null,currentScore:null,currentGameMode:null,scoreboard:[]},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{class:"game"},a.a.createElement("div",{class:"board"},a.a.createElement("div",{class:"gameInfo"},a.a.createElement("div",{class:"question"},"Point to the fret: ",this.state.currentQuestion),a.a.createElement("div",{class:"score"},"SCORE: ",this.state.currentScore),a.a.createElement("div",{class:"timeRemaining"},"TIME: ",this.state.timeRemaining)),this.renderBoard()),a.a.createElement("div",{class:"options"},this.renderOptions()),a.a.createElement("div",{class:"scores"},this.renderScores()))}},{key:"renderBoard",value:function(){return a.a.createElement(f,{numberOfFrets:this.state.fretNumber,numberOfWires:this.state.wireNumber,currentTuning:this.state.tuning,activeWires:this.state.activeWires,checkAnswer:this.checkAnswer})}},{key:"renderOptions",value:function(){return a.a.createElement(S,{wireNumber:this.state.wireNumber,currentTuning:this.state.tuning,tuningChange:this.tuningChange,stringNumberChange:this.stringNumberChange,fretNumberChange:this.fretNumberChange,activeWires:this.state.activeWires,activeWiresChange:this.activeWiresChange,currentQuestionChange:this.currentQuestionChange,winScore:this.winScore,loseScore:this.loseScore,selectQuestionFret:this.selectQuestionFret,currentQuestion:this.state.currentQuestion,timeRemainingChange:this.timeRemainingChange,timePass:this.timePass,currentGameModeSet:this.currentGameModeSet})}},{key:"renderScores",value:function(){return a.a.createElement(y,{scoreboardSet:this.scoreboardSet,scoreboard:this.state.scoreboard,updateScoreLocalstorage:this.updateScoreLocalstorage})}}]),t}(a.a.Component)),f=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(p.a)(t).call(this,e))).checkAnswer=n.props.checkAnswer,n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"renderWire",value:function(e,t,n,r){for(var i,o=this,s=n?"visible":"hidden",c=[],u=0;u<e;u++)c[u]=k(t,u);return i=c.map(function(e){return a.a.createElement("div",{class:"fret",note:e+" "+r,onClick:o.checkAnswer},e)}),a.a.createElement("div",{className:"wire "+s},i)}},{key:"renderBoard",value:function(e,t,n){for(var r=[],i=0;i<t;i++)r[i]=this.renderWire(e,n[i],this.props.activeWires[i],i);return a.a.createElement(a.a.Fragment,null,r)}},{key:"generateSelectNoteButtons",value:function(){var e=this,t=j.map(function(t){return a.a.createElement("button",{class:"selectNoteButtons",note:t,onClick:e.checkAnswer},t)});return a.a.createElement("div",{class:"selectNoteDiv"},t)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"fretBoard"},this.renderBoard(this.props.numberOfFrets,this.props.numberOfWires,this.props.currentTuning)),this.generateSelectNoteButtons())}}]),t}(a.a.Component),S=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{wireNumber:this.props.wireNumber,tuningChange:this.props.tuningChange,currentTuning:this.props.currentTuning,activeWires:this.props.activeWires,activeWiresChange:this.props.activeWiresChange}),a.a.createElement(E,{stringNumberChange:this.props.stringNumberChange}),a.a.createElement(O,{fretNumberChange:this.props.fretNumberChange}),a.a.createElement(C,{currentQuestionChange:this.props.currentQuestionChange,currentQuestion:this.props.currentQuestion,winScore:this.props.winScore,loseScore:this.props.loseScore,timePass:this.props.timePass,selectQuestionFret:this.props.selectQuestionFret,currentGameModeSet:this.props.currentGameModeSet}),a.a.createElement(N,{timeRemainingChange:this.props.timeRemainingChange}))}}]),t}(a.a.Component),b=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"generateTuningDropdowns",value:function(e){for(var t=this,n=[],r=0;r<e;r++)n[r]=j.map(function(e){return a.a.createElement("option",{value:r+","+e},e)});var i=n.map(function(e,n){return a.a.createElement(a.a.Fragment,null,a.a.createElement("select",{className:t.props.activeWires[n]?"visible":"hidden",value:t.selected,onChange:t.props.tuningChange,defaultValue:n+","+t.props.currentTuning[n]},e),a.a.createElement("input",{type:"checkbox",defaultChecked:t.props.activeWires[n],className:n,onChange:t.props.activeWiresChange}))});return a.a.createElement("div",{class:"tuningOptions"},i)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.generateTuningDropdowns(this.props.wireNumber))}}]),t}(a.a.Component),E=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"stringNumberSelector"},a.a.createElement("input",{type:"number",min:"1",max:"6",defaultValue:"6",onChange:this.props.stringNumberChange}),a.a.createElement("span",null,"String Number")))}}]),t}(a.a.Component),O=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"fretNumberSelector"},a.a.createElement("input",{type:"number",min:"1",max:"12",defaultValue:"12",onChange:this.props.fretNumberChange}),a.a.createElement("span",null,"Fret Number")))}}]),t}(a.a.Component),C=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(p.a)(t).call(this,e))).selectQuestionFretStart=n.selectQuestionFretStart.bind(Object(s.a)(n)),n.selectNoteStart=n.selectNoteStart.bind(Object(s.a)(n)),n.timePass=n.props.timePass.bind(Object(s.a)(n)),n.selectQuestionFret=n.props.selectQuestionFret,n.currentGameModeSet=n.props.currentGameModeSet,n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"selectQuestionFretStart",value:function(){this.currentGameModeSet("questionFret"),this.selectQuestionFret(),this.timePass();for(var e=document.querySelector("div.fretBoard").querySelectorAll("div.wire.visible>div.fret"),t=0;t<e.length;t++)e[t].className+=" inGame"}},{key:"selectNoteStart",value:function(){this.currentGameModeSet("note"),this.selectQuestionFret(),this.timePass();var e=document.querySelectorAll("button.selectNoteButtons");console.log(e);for(var t=0;t<e.length;t++)e[t].className+=" inGame"}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"button",value:"Question Fret",class:"questionFretButton gameStartButton",onClick:this.selectQuestionFretStart}),a.a.createElement("input",{type:"button",value:"Note",class:"noteButton gameStartButton",onClick:this.selectNoteStart}))}}]),t}(a.a.Component),N=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"timeSelectorDiv"},a.a.createElement("select",{class:"timeSelector",onChange:this.props.timeRemainingChange},a.a.createElement("option",{value:"3"},"3"),a.a.createElement("option",{value:"30"},"30"),a.a.createElement("option",{value:"45"},"45"),a.a.createElement("option",{value:"60",selected:!0},"60"),a.a.createElement("option",{value:"90"},"90"),a.a.createElement("option",{value:"120"},"120")),a.a.createElement("span",null,"Time")))}}]),t}(a.a.Component),y=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"getScores",value:function(e){return"undefined"!==typeof e&&null!=e?a.a.createElement(a.a.Fragment,null,this.renderScore(e[0]),this.renderScore(e[1]),this.renderScore(e[2])):(console.log("Happens"),a.a.createElement("div",null,"No score"))}},{key:"renderScore",value:function(e){return"undefined"!==typeof e?a.a.createElement("div",null,e[0]," points with ",e[1]," frets in ",e[2]," seconds"):a.a.createElement("div",null,"Empty")}},{key:"componentDidMount",value:function(){this.props.updateScoreLocalstorage()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"ranking"},a.a.createElement("div",{class:"noteScoreBoard"},a.a.createElement("span",{class:"scoreHeader"},"noteScoreBoard"),this.getScores(this.props.scoreboard[0])),a.a.createElement("div",{class:"questionFretScoreBoard"},a.a.createElement("span",{class:"scoreHeader"},"questionFretScoreBoard"),this.getScores(this.props.scoreboard[1]))))}}]),t}(a.a.Component),j=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"];function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A",t=arguments.length>1?arguments[1]:void 0;for(t+=function(e){var t;e=e.toUpperCase();try{t=j.indexOf(e)}catch(n){console.log("Note not found in circle")}return t}(e=e.toUpperCase());t>11;)t-=12;return j[t]}function w(e){for(var t=0;t<e.length;t++)e[t].setAttribute("disabled","disabled")}function F(e){for(var t=0;t<e.length;t++)e[t].removeAttribute("disabled")}function q(e){return G(),JSON.parse(localStorage.getItem(e))}function Q(){console.log("Something");var e=q("note"),t=q("questionFret");e.sort(B),t.sort(B),e=JSON.stringify(e),t=JSON.stringify(t),localStorage.setItem("note",e),localStorage.setItem("questionFret",t)}function B(e,t){return(e=1.1*e[0]*e[1]/e[2])>(t=1.1*t[0]*t[1]/t[2])?-1:e<t?1:0}function G(){JSON.parse(localStorage.getItem("questionFret"))||localStorage.setItem("questionFret",JSON.stringify([])),JSON.parse(localStorage.getItem("note"))||localStorage.setItem("note",JSON.stringify([]))}var W=v;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.6cec3701.chunk.js.map