(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),o=n.n(i),s=(n(15),n(5)),c=n(6),u=n.n(c),l=n(9),m=n(1),p=n(2),h=n(4),d=n(3),g=(n(17),n(18),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).tuningChange=function(e){var t=e.target.value.split(",")[0],n=e.target.value.split(",")[1],a=r.state.tuning.concat();a[t]=n,r.setState({tuning:a})},r.stringNumberChange=function(e){var t=parseInt(e.target.value);r.setState({wireNumber:t})},r.fretNumberChange=function(e){var t=parseInt(e.target.value);r.setState({fretNumber:t})},r.activeWiresChange=function(e){var t=r.state.activeWires.concat();t[e.target.className]=e.target.checked,r.setState({activeWires:t})},r.timeRemainingChange=function(e){var t=parseInt(e.target.value);r.setState({timeRemaining:t})},r.currentQuestionChange=function(e){r.setState({currentQuestion:e})},r.timeRemainingSet=function(e){r.setState({timeRemaining:e})},r.currentGameModeSet=function(e){r.setState({currentGameMode:e})},r.scoreboardSet=function(e){r.setState({scoreboard:e})},r.updateScoreLocalstorage=function(){var e=[];e[0]=JSON.parse(localStorage.getItem("note")),e[1]=JSON.parse(localStorage.getItem("questionFret")),r.scoreboardSet(e)},r.timePass=Object(l.a)(u.a.mark(function e(){var t,n,a,i,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.timeRemaining,console.log("Game Start"),w(n=document.querySelector(".options").querySelectorAll("select, input"));case 4:if(!(r.state.timeRemaining>0)){e.next=11;break}return e.next=7,r.sleep(1e3);case 7:r.timeRemainingSet(r.state.timeRemaining-1),console.log("Time tick"),e.next=4;break;case 11:for(console.log("Time end"),a=document.querySelectorAll(".inGame").length,console.log(a),document.querySelector(".questionNode").classList.remove("questionNode"),i=document.querySelectorAll(".inGame"),o=0;o<i.length;o++)i[o].classList.remove("inGame");j(n),r.saveScore(r.state.currentGameMode,a,t),r.currentGameModeSet(null),r.timeRemainingSet(document.querySelector(".timeSelector").value),r.resetScore(),q();case 23:case"end":return e.stop()}},e)})),r.sleep=function(e){return new Promise(function(t){return setTimeout(t,e)})},r.checkAnswer=function(e){if(e.target.classList.contains("inGame")){if("note"==r.state.currentGameMode)var t=r.state.currentQuestion.split(" ")[0];else t=r.state.currentQuestion;e.target.getAttribute("note")==t?r.winScore():r.loseScore(),document.querySelector(".questionNode").classList.remove("questionNode");var n=document.querySelector("div.fretBoard").querySelectorAll("div.wire.visible>div.fret"),a=n[Math.floor(Math.random()*n.length)];a.classList.add("questionNode"),r.currentQuestionChange(a.getAttribute("note"))}},r.selectQuestionFret=function(){var e=document.querySelector("div.fretBoard").querySelectorAll("div.wire.visible>div.fret"),t=e[Math.floor(Math.random()*e.length)];t.classList.add("questionNode"),r.currentQuestionChange(t.getAttribute("note"))},r.winScore=function(){var e=r.state.currentScore+100;r.setState({currentScore:e})},r.loseScore=function(){var e=r.state.currentScore-100;r.setState({currentScore:e})},r.resetScore=function(){r.setState({currentScore:0})},r.saveScore=function(e,t,n){(function(e,t,n,r){B(),n=parseInt(n);var a=F(e);a.push([t,n,r]),a.sort(Q),a=JSON.stringify(a),localStorage.setItem(e,a)})(e,parseInt(document.querySelector(".score").innerHTML)||0,t,n=parseInt(n)),r.updateScoreLocalstorage()},r.state={tuning:["E","B","G","D","A","E"],wireNumber:6,fretNumber:12,timeRemaining:2,activeWires:[!0,!0,!0,!0,!0,!0,!0,!0,!0],currentQuestion:null,currentScore:null,currentGameMode:null,scoreboard:[],dismissPrompt:function(){document.querySelector(".portraitPrompt").classList.add("dismissedPrompt")}},r}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{class:"game"},a.a.createElement("div",{class:"portraitPrompt",onClick:this.state.dismissPrompt},a.a.createElement("p",{class:"promptText"},"Switch to portrait for a better experience"),a.a.createElement("p",{class:"promptText"},"Tap to dismiss")),a.a.createElement("div",{class:"board"},a.a.createElement("div",{class:"gameInfo"},a.a.createElement("div",{class:"question"},"Point to the fret: ",this.state.currentQuestion),a.a.createElement("div",{class:"score"},"SCORE: ",this.state.currentScore),a.a.createElement("div",{class:"timeRemaining"},"TIME: ",this.state.timeRemaining)),this.renderBoard()),a.a.createElement("div",{class:"options"},this.renderOptions()),a.a.createElement("div",{class:"scores"},this.renderScores()))}},{key:"renderBoard",value:function(){return a.a.createElement(v,{numberOfFrets:this.state.fretNumber,numberOfWires:this.state.wireNumber,currentTuning:this.state.tuning,activeWires:this.state.activeWires,checkAnswer:this.checkAnswer})}},{key:"renderOptions",value:function(){return a.a.createElement(f,{wireNumber:this.state.wireNumber,currentTuning:this.state.tuning,tuningChange:this.tuningChange,stringNumberChange:this.stringNumberChange,fretNumberChange:this.fretNumberChange,activeWires:this.state.activeWires,activeWiresChange:this.activeWiresChange,currentQuestionChange:this.currentQuestionChange,winScore:this.winScore,loseScore:this.loseScore,selectQuestionFret:this.selectQuestionFret,currentQuestion:this.state.currentQuestion,timeRemainingChange:this.timeRemainingChange,timePass:this.timePass,currentGameModeSet:this.currentGameModeSet})}},{key:"renderScores",value:function(){return a.a.createElement(y,{scoreboardSet:this.scoreboardSet,scoreboard:this.state.scoreboard,updateScoreLocalstorage:this.updateScoreLocalstorage})}}]),n}(a.a.Component)),v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).checkAnswer=r.props.checkAnswer,r}return Object(p.a)(n,[{key:"renderWire",value:function(e,t,n,r){for(var i,o=this,s=n?"visible":"hidden",c=[],u=0;u<e;u++)c[u]=k(t,u);return i=c.map(function(e){return a.a.createElement("div",{class:"fret",note:e+" "+r,onClick:o.checkAnswer},e)}),a.a.createElement("div",{className:"wire "+s},i)}},{key:"renderBoard",value:function(e,t,n){for(var r=[],i=0;i<t;i++)r[i]=this.renderWire(e,n[i],this.props.activeWires[i],i);return a.a.createElement(a.a.Fragment,null,r)}},{key:"generateSelectNoteButtons",value:function(){var e=this,t=O.map(function(t){return a.a.createElement("button",{class:"selectNoteButtons",note:t,onClick:e.checkAnswer},t)});return a.a.createElement("div",{class:"selectNoteDiv"},t)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"fretBoard"},this.renderBoard(this.props.numberOfFrets,this.props.numberOfWires,this.props.currentTuning)),this.generateSelectNoteButtons())}}]),n}(a.a.Component),f=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{wireNumber:this.props.wireNumber,tuningChange:this.props.tuningChange,currentTuning:this.props.currentTuning,activeWires:this.props.activeWires,activeWiresChange:this.props.activeWiresChange}),a.a.createElement(b,{stringNumberChange:this.props.stringNumberChange}),a.a.createElement(E,{fretNumberChange:this.props.fretNumberChange}),a.a.createElement(C,{currentQuestionChange:this.props.currentQuestionChange,currentQuestion:this.props.currentQuestion,winScore:this.props.winScore,loseScore:this.props.loseScore,timePass:this.props.timePass,selectQuestionFret:this.props.selectQuestionFret,currentGameModeSet:this.props.currentGameModeSet}),a.a.createElement(N,{timeRemainingChange:this.props.timeRemainingChange}))}}]),n}(a.a.Component),S=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"generateTuningDropdowns",value:function(e){for(var t=this,n=[],r=0;r<e;r++)n[r]=O.map(function(e){return a.a.createElement("option",{value:r+","+e},e)});var i=n.map(function(e,n){return a.a.createElement(a.a.Fragment,null,a.a.createElement("select",{className:t.props.activeWires[n]?"visible":"hidden",value:t.selected,onChange:t.props.tuningChange,defaultValue:n+","+t.props.currentTuning[n]},e),a.a.createElement("input",{type:"checkbox",defaultChecked:t.props.activeWires[n],className:n,onChange:t.props.activeWiresChange}))});return a.a.createElement("div",{class:"tuningOptions"},i)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.generateTuningDropdowns(this.props.wireNumber))}}]),n}(a.a.Component),b=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"stringNumberSelector"},a.a.createElement("input",{type:"number",min:"1",max:"6",defaultValue:"6",onChange:this.props.stringNumberChange}),a.a.createElement("span",null,"String Number")))}}]),n}(a.a.Component),E=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"fretNumberSelector"},a.a.createElement("input",{type:"number",min:"1",max:"12",defaultValue:"12",onChange:this.props.fretNumberChange}),a.a.createElement("span",null,"Fret Number")))}}]),n}(a.a.Component),C=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).selectQuestionFretStart=r.selectQuestionFretStart.bind(Object(s.a)(r)),r.selectNoteStart=r.selectNoteStart.bind(Object(s.a)(r)),r.timePass=r.props.timePass.bind(Object(s.a)(r)),r.selectQuestionFret=r.props.selectQuestionFret,r.currentGameModeSet=r.props.currentGameModeSet,r}return Object(p.a)(n,[{key:"selectQuestionFretStart",value:function(){this.currentGameModeSet("questionFret"),this.selectQuestionFret(),this.timePass();for(var e=document.querySelector("div.fretBoard").querySelectorAll("div.wire.visible>div.fret"),t=0;t<e.length;t++)e[t].className+=" inGame"}},{key:"selectNoteStart",value:function(){this.currentGameModeSet("note"),this.selectQuestionFret(),this.timePass();var e=document.querySelectorAll("button.selectNoteButtons");console.log(e);for(var t=0;t<e.length;t++)e[t].className+=" inGame"}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"button",value:"Question Fret",class:"questionFretButton gameStartButton",onClick:this.selectQuestionFretStart}),a.a.createElement("input",{type:"button",value:"Note",class:"noteButton gameStartButton",onClick:this.selectNoteStart}))}}]),n}(a.a.Component),N=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"timeSelectorDiv"},a.a.createElement("select",{class:"timeSelector",onChange:this.props.timeRemainingChange},a.a.createElement("option",{value:"3"},"3"),a.a.createElement("option",{value:"30"},"30"),a.a.createElement("option",{value:"45"},"45"),a.a.createElement("option",{value:"60",selected:!0},"60"),a.a.createElement("option",{value:"90"},"90"),a.a.createElement("option",{value:"120"},"120")),a.a.createElement("span",null,"Time")))}}]),n}(a.a.Component),y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getScores",value:function(e){return"undefined"!==typeof e&&null!=e?a.a.createElement(a.a.Fragment,null,this.renderScore(e[0]),this.renderScore(e[1]),this.renderScore(e[2])):a.a.createElement("div",null,"No score")}},{key:"renderScore",value:function(e){return"undefined"!==typeof e?a.a.createElement("div",null,e[0]," points with ",e[1]," frets in ",e[2]," seconds"):a.a.createElement("div",null,"Empty")}},{key:"componentDidMount",value:function(){this.props.updateScoreLocalstorage()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{class:"ranking"},a.a.createElement("div",{class:"noteScoreBoard"},a.a.createElement("span",{class:"scoreHeader"},"noteScoreBoard"),this.getScores(this.props.scoreboard[0])),a.a.createElement("div",{class:"questionFretScoreBoard"},a.a.createElement("span",{class:"scoreHeader"},"questionFretScoreBoard"),this.getScores(this.props.scoreboard[1]))))}}]),n}(a.a.Component),O=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"];function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A",t=arguments.length>1?arguments[1]:void 0;for(t+=function(e){var t;e=e.toUpperCase();try{t=O.indexOf(e)}catch(n){console.log("Note not found in circle")}return t}(e=e.toUpperCase());t>11;)t-=12;return O[t]}function w(e){for(var t=0;t<e.length;t++)e[t].setAttribute("disabled","disabled")}function j(e){for(var t=0;t<e.length;t++)e[t].removeAttribute("disabled")}function F(e){return B(),JSON.parse(localStorage.getItem(e))}function q(){console.log("Something");var e=F("note"),t=F("questionFret");e.sort(Q),t.sort(Q),e=JSON.stringify(e),t=JSON.stringify(t),localStorage.setItem("note",e),localStorage.setItem("questionFret",t)}function Q(e,t){return(e=1.1*e[0]*e[1]/e[2])>(t=1.1*t[0]*t[1]/t[2])?-1:e<t?1:0}function B(){JSON.parse(localStorage.getItem("questionFret"))||localStorage.setItem("questionFret",JSON.stringify([])),JSON.parse(localStorage.getItem("note"))||localStorage.setItem("note",JSON.stringify([]))}var G=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.ba9d0e62.chunk.js.map